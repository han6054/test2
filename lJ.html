<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="index.css"/>
</head>
<body>
<div class="navTop">
    <div class="bTop">
        <ul class="topLeft">
            <li class="top_left"><a href=""></a>拉钩APP</li>
            <li>进入企业版</li>
        </ul>
        <ul class="top_right">
            <li class="user">登录</li>
            <li>注册</li>
        </ul>
    </div>
    <div class="lgLogo"><h1></h1><strong>全国站</strong><em>[切换城市]</em></div>
    <ul class="lg_reset">
        <li><a href="" class="current">首页</a><span></span></li>
        <li class="Scurrent"><a href="">公司</a><span></span></li>
        <li class="Scurrent"><a href="">一拍</a><span></span></li>
    </ul>
</div>
<div class="content">
    <div class="left" id="left">
        <div class="left_top" id="left_top">
        </div>
    </div>
    <div class="boxMid">
        <a id="backTop"></a>
        <div id="feedback-icon">
            <div class="fb_icon" >
                <span>我要反馈</span>
            </div>
        </div>
        <div class="searchForm">
            <form action=""></form>
            <input type="text" class="search_input"/>
            <input type="submit" class="search_button" value="搜索"/>
        </div>
        <dl class="hotSearch">
            <dt>热门搜索:</dt>
            <dd><a href="">内容编辑</a></dd>
            <dd><a href="">移动开发</a></dd>
            <dd><a href="">后端开发</a></dd>
            <dd><a href="">PHP</a></dd>
            <dd><a href="">.Net</a></dd>
            <dd><a href="">前端开发</a></dd>
            <dd><a href="">产品经理</a></dd>
            <dd><a href="">Android</a></dd>
            <dd><a href="">拉勾</a></dd>
        </dl>
        <div id="outer">
            <div class="inner" id="inner">
                <img src="img/01.JPG" alt=""/>
                <img src="img/02.JPG" alt=""/>
                <img src="img/03.JPG" alt=""/>
                <img src="img/01.JPG" alt=""/>
            </div>
            <div class="banner_control">
                <ul class="tip" id="tip">
                    <em id="em"></em>
                    <li><span class="one_s"><img src="img/1.small.JPG" alt=""/></span><i></i></li>
                    <li><span class="two_s"><img src="img/2.small.JPG" alt=""/></span><i></i></li>
                    <li><span class="three_s"><img src="img/3.small.JPG" alt=""/></span><i></i></li>
                </ul>
            </div>
        </div>
        <ul class="a1">
            <li><img src="img/prid.jpg" alt=""/></li>
            <li><img src="img/quchu.jpg" alt=""/></li>
            <li><img src="img/tgr.jpg" alt=""/></li>
            <li><img src="img/yuan.jpg" alt=""/></li>
            <li><img src="img/yunkong.jpg" alt=""/></li>
            <li><img src="img/pingxing.jpg" alt=""/></li>
        </ul>
        <ul class="job_tab" id="job_tab">
            <li class="cur">热门职位</li>
            <li id="zw">最新职位</li>
        </ul>
        <div class="hotList" id="hotList">
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
            <div><img src="img/list.png" alt=""/></div>
        </div>
        <div class="newList" id="newList">
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
            <div><img src="img/newlist.png" alt=""/></div>
        </div>
        <ul class=list_more><a href=""></a><li>查看更多</li></ul>
        <div class="linkBox">
            <div><img src="img/lianjie.png" alt=""/></div>
        </div>
    </div>

</div>
<div id="loginToolBar">
    <div><em></em><img src="img/footbar_logo_e2fde1b.png" alt=""/><span class="companycount">
        <i style="background-position-y:-34px"></i>
         <i style="background-position-y:-3px"></i>
         <i style="background-position-y:-94px"></i>
        <b></b>
        <i style="background-position-y:-244px"></i>
        <i style="background-position-y:-214px"></i>
        <i style="background-position-y:-64px"></i>
    </span>
        <a class="btn_send" href=""><i>登录</i></a>
    </div>
    <div id="login_right">
        <a class="btn_reg" href=""><i>极速注册-></i></a>
    </div>
</div>


<script type="text/javascript" src="js/animate备份.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script charset="utf-8" type="text/javascript" src="json/json.1.js"></script>
<script>
    var inner = document.getElementById("inner"), imgList = inner.getElementsByTagName("img"), left_content = document.getElementById("left_content"), tip = document.getElementById("tip"), tipList = tip.getElementsByTagName("li"), em = document.getElementById("em"), iList = tip.getElementsByTagName("i");
    var right_content = document.getElementById("right_content");
    var backTop = document.getElementById("backTop");
    var step = 0;
    var count = 3;
     var timer = null;
    //-------------------------------实现轮播-------------------------------；
    //->实现图片控制样式的选中
    function selectTip() {
        var tempStep = step;
        tempStep >= tipList.length ? tempStep = 0 : null;
        em.style.top = 55 * (tempStep) + "px";
        for (var i = 0; i < tipList.length; i++) {
            iList[i].className = i === tempStep ? "bg" : null;
        }
    }

    //->实现右侧小图片的划过控制切换轮播图
    tipMove();
    function tipMove() {
        for (var i = 0; i < tipList.length; i++) {
            var curTip = tipList[i];
            curTip.index = i;
            curTip.onmouseover = function () {
                window.clearInterval(timer);
                step = this.index;
                animate(inner, {top: -step * 160}, 300);
                selectTip();
                timer = window.setInterval(autoMove, 2000);/*全局两个定时器，还会不会冲突？*/
            }
        }
    }

    //->实现自动轮播
    function autoMove() {
        step++;
        if (step > count) {
            step = 1;
            inner.style.top = 0;
        }
        animate(inner, {top: -step * 160}, 300);
        selectTip();
    }
    timer = window.setInterval(autoMove, 2000);


   //============================================
    var leftTop = document.getElementById("left_top");
    bindData();
        function bindData() {
        var str = "";
        for (var i = 0; i < careers.length; i++) {
            var cur = careers[i];
            str += "<div class='menu_box'>";
            str += "<div class='menu_box_title'>";
            str += "<h2>" + cur['title'] + "<span></span></h2>";
            for (var j = 0; j < cur['items'].length; j++) {
                var curA = cur['items'][j];
                str += "<a href='javascript:;'>" + curA + "</a>";
            }
            str += "</div>";
            str += "<div class='menu_box_list'>";
            for(var m=0;m<cur['pushes'].length;m++){
                var curM=cur['pushes'][m];
                str += "<dl>";
                str += "<dt>";
                str += "<a href='javascript:;'>" + curM['pushTitle'] + "</a>";
                str += "</dt>";
                str += "<dd>";
                for (var n = 0; n < curM['pushItems'].length; n++) {
                    var curP=curM['pushItems'][n];
                    str += "<a href='javascript:;'>" +  curP+ "</a>";
                }
                str += "</dd>";
                str += "</dl>";
            }

            str += "</div>";
            str += "</div>";
        }
        leftTop.innerHTML = str;

      /*问题数据绑定拼接的字符串class名字 都为一个 定位的时候后面的不会显示,后面拼接的盒子都会跑到一个位置上*/
  }
    //----------------------------------------------------------
    /*导航栏问题 左边盒子 右边框压不上 右盒子 左边框
     * 阻止冒泡传播为何滑动左边盒子，右边盒子还是消失
     * 滑动的问题 又盒子有bug
     * 判断是否正确？*/
/*    var menuList = utils.getElementsByClass("menu_box_list", leftTop);
    leftTop.onmouseover = function(e){
        e = e|| window.event;
        var tar = e.taget || e.srcElement;
        if((tar.tageName === "h2"||tar.tageName ==="a")&& tar.parentNode.parentNode.id === leftTop){
            console.log(tar);
            for(var i=0;i<menuList.length;i++){
                menuList[i].style.display = "none";
                utils.removeClass(menuList[i].parentNode.parentNode, "hover")
            }
            utils.children(tar, "div")[0].style.display = "block";
            utils.addClass(tar, "hover");
        }
    };*/
    (function () {
        var leftTop = document.getElementById("left_top");
        var menuBox = utils.getElementsByClass("menu_box", leftTop);
        var menuBoxTitle = utils.getElementsByClass("menu_box_title", leftTop);
        var menuBoxList = utils.getElementsByClass("menu_box_list", leftTop);
        for (var i = 0; i < menuBox.length; i++) {
            ~function (i) {
                var curBox=menuBox[i];
                curBox.onmouseover = function () {
                    menuBoxList[i].style.display = "block";
                    menuBoxList[i].style.top = -i*5+"px";
                    menuBoxTitle[i].style.background = "#fff";
                    menuBoxTitle[i].style.border = "2px solid #c9cbce";
                    menuBoxTitle[i].style.borderRight = "2px solid transparent";
                    //menuBoxList[i].style.zIndex=9;
                    menuBoxTitle[i].style.zIndex=103;
                };
                curBox.onmouseout = function () {
                    menuBoxList[i].style.display = "none";
                    menuBoxTitle[i].style.background = "#fafafa";
                    menuBoxTitle[i].style.border = "2px solid #fafafa";
                    menuBoxTitle[i].style.zIndex=101;
                };
            }(i);
        }
    })();
    //-----------------------------------------------------------------------------------------

/*委托事件 选项卡*/
    job_tab.onclick = function(e){
        e = e || window.event;
        e.target = e.target || e.srcElement;
        if( e.target.tagName.toLowerCase()==="li"&& e.target.id ==="zw" &&e.target.parentNode.id ==="job_tab"){
            newList.style.display = "block";
            hotList.style.display = "none";
    }
        else{
     newList.style.display = "none";
     hotList.style.display = "block";
     }
    };

    backTop.onclick = function () {
        this.style.display = "none";
        window.onscroll = null;
        var step =50;
        var timer = window.setInterval(function () {
            var curT = utils.win("scrollTop");
            if (curT <= 0) {
                utils.win("scrollTop", 0);
                window.onscroll = scrollMove;
                window.clearInterval(timer);
                return;
            }
            utils.win("scrollTop", curT - step);
        }, 10);
    };
    function scrollMove() {
        var winH = utils.win("clientHeight");
        var curT = utils.win("scrollTop");
       backTop.style.display = curT >= winH ? "block" : "none";
    }
    window.onscroll = scrollMove;
//---------------------------------------------------

</script>
</body>
</html> 